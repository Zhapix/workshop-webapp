<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Simple CRUD App</title>
  <style>
    body { font-family: Arial; padding: 20px; }
    input, button { margin: 5px; }
    table { width: 100%; border-collapse: collapse; margin-top: 10px; }
    th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
    .actions button { margin-right: 5px; }
  </style>
</head>
<body>

<h2>User Management</h2>

<input type="text" id="name" placeholder="Name">
<input type="email" id="email" placeholder="Email">
<button onclick="addUser()">Add User</button>
<button onclick="updateUser()" style="display: none;" id="updateBtn">Update User</button>

<table id="userTable">
  <thead>
    <tr><th>Name</th><th>Email</th><th>Actions</th></tr>
  </thead>
  <tbody></tbody>
</table>

<script>
  let users = [];
  let selectedIndex = null;

  function renderTable() {
    const tableBody = document.querySelector("#userTable tbody");
    tableBody.innerHTML = ""; // Clear previous rows

    users.forEach((user, index) => {
      const row = `
        <tr>
          <td>${user.name}</td>
          <td>${user.email}</td>
          <td class="actions">
            <button onclick="editUser(${index})">Edit</button>
            <button onclick="deleteUser(${index})">Delete</button>
          </td>
        </tr>
      `;
      tableBody.innerHTML += row;
    });
  }

  function addUser() {
    const name = document.getElementById("name").value.trim();
    const email = document.getElementById("email").value.trim();
    if (name && email) {
      users.push({ name, email });
      renderTable();
      clearForm();
    } else {
      alert("Please enter name and email.");
    }
  }

  function editUser(index) {
    const user = users[index];
    document.getElementById("name").value = user.name;
    document.getElementById("email").value = user.email;
    selectedIndex = index;
    document.getElementById("updateBtn").style.display = "inline";
  }

  function updateUser() {
    const name = document.getElementById("name").value.trim();
    const email = document.getElementById("email").value.trim();
    if (name && email && selectedIndex !== null) {
      users[selectedIndex] = { name, email };
      renderTable();
      clearForm();
      document.getElementById("updateBtn").style.display = "none";
    }
  }

  function deleteUser(index) {
    if (confirm("Are you sure you want to delete this user?")) {
      users.splice(index, 1);
      renderTable();
    }
  }

  function clearForm() {
    document.getElementById("name").value = "";
    document.getElementById("email").value = "";
    selectedIndex = null;
  }
</script>

</body>
</html>
 